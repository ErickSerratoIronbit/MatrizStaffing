<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script type="module">
        import '../hours-form.js';
        import '@polymer/paper-toast/paper-toast.js';
    </script>
    <title>HoursForm</title>
    <style>
        hours-form {
            width: 500px;
        }
    </style>
</head>
<body>

    <div>
        <h2>Save data</h2>
        <hours-form id=""></hours-form>
        <paper-toast id=""></paper-toast>
    </div>

    <div>
        <h2>Edit data</h2>
        <hours-form id=""></hours-form>
        <paper-toast id=""></paper-toast>
    </div>

    <div>
        <h2>Select data (Edit)</h2>
        <hours-form id=""></hours-form>
        <paper-toast id=""></paper-toast>
    </div>

    <div>
        <h2>Select data (Create)</h2>
        <hours-form id=""></hours-form>
        <paper-toast id=""></paper-toast>
    </div>
    
    <script>
        const yearCollection = {
            '2020' : {
                january:'2000',
                february:'2000',
                march:'2000',
                april:'2000',
                    may:'2000',
                    june:'2000',
                    july:'2000',
                    august:'2000',
                    september:'2000',
                    october:'2000',
                    november:'2000',
                    december:'2000'
                },'2019' : {
                    january:'2000',
                    february:'2000',
                    march:'2000',
                    april:'2000',
                    may:'2000',
                    june:'2000',
                    july:'2000',
                    august:'2000',
                    september:'2000',
                    october:'2000',
                    november:'2000',
                    december:'2000'
                },'2018' : {
                    january:'2000',
                    february:'2000',
                    march:'2000',
                    april:'2000',
                    may:'2000',
                    june:'2000',
                    july:'2000',
                    august:'2000',
                    september:'2000',
                    october:'2000',
                    november:'2000',
                    december:'2000'
                }
            }
        
        let arrayOfYears = [];
        //Add data procesor: Receive object with data and return an array and a property object
        const hoursForms = document.querySelectorAll('hours-form');

        for(const year in yearCollection){
            arrayOfYears = [...arrayOfYears, parseInt(year)]
        }
        for(const form of hoursForms){
            customElements.whenDefined(form.localName).then(() => {
                form.fillYears(arrayOfYears);
                form.addEventListener('years-changed', event => {
                    form.set(yearCollection[event.detail.year]);
                })
            })
        }

    </script>
</body>
</html>